(()=>{"use strict";function getDeviceInfo_isIOS(){const userAgent=window.navigator.userAgent;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||userAgent.includes("Mac")}/iPad/.test(navigator.userAgent);const queryParamsActions_getQueryParam=(queryParam,currentUrl=window.location.href)=>{const results=new RegExp("[\\?&]"+queryParam+"=([^&#]*)").exec(currentUrl);return results&&results.length>0?decodeURIComponent(results[1]):null},queryParamsActions_removeQueryParams=(params,currentHref=window.location.href)=>{let url=currentHref;return params.forEach((param=>url=((parameter,currentUrl=window.location.href)=>{if(!currentUrl.includes(parameter))return currentUrl;const url=new URL(currentUrl),queryParams=new URLSearchParams(url.search),params={};for(const[key,value]of queryParams)params[key]=value;delete params[parameter];const queryString=Object.entries(params).map((([key,value])=>`${key}=${encodeURIComponent(value)}`)).join("&");url.search=queryString;try{window.history.pushState({},document.title,url.toString())}catch(error){}return url.toString()})(param,url))),url},inIframe_isAuth=()=>{const splitPath=window.location.pathname.split("/"),path=splitPath[splitPath.length-1],authFlow=!!(checkURL=>{const extractAppIdFromPath=()=>{const parts=window.location.pathname.split("/"),appIdIndex=parts.findIndex((item=>"appid"===item));return-1!==appIdIndex?parts[appIdIndex+1]:null};return checkURL||window.location.href.includes("/appid/")?extractAppIdFromPath():queryParamsActions_getQueryParam(Constants_URL_PARAMETER.APP_ID)||queryParamsActions_getQueryParam("appid")})(!0);if(authFlow&&("otpless.com"===path||"otpless.tech"===path)){const finalURL=`${window.location.origin}${window.location.search||""}`;try{window.history.pushState({},document.title,finalURL)}catch(error){}}return authFlow};const Constants_IFRAME_COMMUNICATION_ANCESTOR_OTP_AUTO_READ="ANCESTOR_OTP_AUTO_READ",Constants_IFRAME_COMMUNICATION_ANCESTOR_LOCATION="ANCESTOR_LOCATION",Constants_IFRAME_COMMUNICATION_ANCESTOR_API_RESPONSE="ANCESTOR_API_RESPONSE";var Constants_SDK_EXTERNAL_CALLBACK,Constants_STORAGE,STATUS,Constants_PLATFORM_CONSTANTS,Constants_URL_PARAMETER,Constants_SDK_PLATFORM,Constants_EVENT_NAMES,Constants_SCRIPT_ATTRIBUTES_MAP,Constants_DIV_ATTRIBUTES_MAP;!function(SDK_EXTERNAL_CALLBACK){SDK_EXTERNAL_CALLBACK.CANCEL="OTPlessSDKCancelCallback",SDK_EXTERNAL_CALLBACK.EXTERNAL_URL="OTPlessSdkExternalURLCallback",SDK_EXTERNAL_CALLBACK.NO_CHANNEL="OTPlessNoChannelCallback",SDK_EXTERNAL_CALLBACK.VERIFIED_CHANNEL="OTPlessVerifiedChannelCallback",SDK_EXTERNAL_CALLBACK.INIT="OTPlessInitCallback",SDK_EXTERNAL_CALLBACK.OTPLESS="otpless",SDK_EXTERNAL_CALLBACK.VERIFY_SESSION="OTPlessVerifySession",SDK_EXTERNAL_CALLBACK.CLEAR_SESSION="OTPlessLogout",SDK_EXTERNAL_CALLBACK.LOGOUT="OTPlessSDKLogout"}(Constants_SDK_EXTERNAL_CALLBACK||(Constants_SDK_EXTERNAL_CALLBACK={})),function(STORAGE){STORAGE.STATE="state",STORAGE.UID="uid",STORAGE.MID="mid",STORAGE.OTPLESS_COLLAPSED_COUNTER="oc",STORAGE.OTPLESS_HIDDEN_COUNTER="ohc",STORAGE.AVATAR="avatar",STORAGE.INIT="init",STORAGE.OTPLESS_TOKEN="nekoTssel-PTO",STORAGE.HARD_STOP_POLL="hsp",STORAGE.HARD_STOP_POLL_BRIEF="hspb",STORAGE.OTPLESS_LOCALE="OTPlessLocale",STORAGE.CHANNEL="CHANNEL",STORAGE.ASID="asId",STORAGE.INID="OTPlessInId",STORAGE.TSID="OTPlessTsid",STORAGE.INTENT_ONETAP_TOKEN="iot",STORAGE.CODE_VERIFICATION="cv",STORAGE.OTPLESS_SESSION="os",STORAGE.OTPLESS_SILENT_AUTH_INFO="osai",STORAGE.BACK_CALLBACK="bcb",STORAGE.SSID="ssId",STORAGE.EVENT_COUNTER="ec"}(Constants_STORAGE||(Constants_STORAGE={})),function(STATUS){STATUS.INACTIVE="INACTIVE",STATUS.INIT="INIT",STATUS.PENDING="PENDING",STATUS.SUCCESS="SUCCESS",STATUS.FAILED="FAILED",STATUS.COMPLETED="COMPLETED"}(STATUS||(STATUS={})),function(PLATFORM_CONSTANTS){PLATFORM_CONSTANTS.DESKTOP="Desktop",PLATFORM_CONSTANTS.ANDROID="Android",PLATFORM_CONSTANTS.IOS="iOS"}(Constants_PLATFORM_CONSTANTS||(Constants_PLATFORM_CONSTANTS={})),function(URL_PARAMETER){URL_PARAMETER.CODE="code",URL_PARAMETER.QR_REF_ID="qr_ref_id",URL_PARAMETER.REF_ID="ref_id",URL_PARAMETER.TOKEN="token",URL_PARAMETER.LOGIN_URI="login_uri",URL_PARAMETER.NATIVE_LOGIN_URI="native_login_uri",URL_PARAMETER.PLATFORM="platform",URL_PARAMETER.FLOATER_COLLAPSED="collapsed",URL_PARAMETER.SDK_PLATFORM="sdkPlatform",URL_PARAMETER.COLLAPSED="collapsed",URL_PARAMETER.TECHSTACK="techstack",URL_PARAMETER.ANNOUNCEMENT="announcement",URL_PARAMETER.BUTTON_EXIST="buttonExist",URL_PARAMETER.HAS_WHATSAPP="hasWhatsapp",URL_PARAMETER.HAS_TRUECALLER="hasTrueCaller",URL_PARAMETER.OTPLESS_ONE_TAP_TOKEN="oToken",URL_PARAMETER.PACKAGE="package",URL_PARAMETER.UX_MODE="uxmode",URL_PARAMETER.RELOAD="true",URL_PARAMETER.SCRIPT_ATTRIBUTES="script_attributes",URL_PARAMETER.IS_CLIENT_USER_LOGGED_IN="isClientUserLogin",URL_PARAMETER.SID="sId",URL_PARAMETER.WEB_AUTHN="webAuthn",URL_PARAMETER.CLIENT_ID="client_id",URL_PARAMETER.CID="cid",URL_PARAMETER.APP_ID="appId",URL_PARAMETER.REDIRECT_URI="redirect_uri",URL_PARAMETER.NONCE="nonce",URL_PARAMETER.IS_LOGIN_PAGE="isLoginPage",URL_PARAMETER.DATA_SET="dataSet",URL_PARAMETER.AMOUNT="amount",URL_PARAMETER.CURRENCY="currency",URL_PARAMETER.IS_MANDATORY="isMandatory",URL_PARAMETER.APP_INFO="appInfo",URL_PARAMETER.HU="hu",URL_PARAMETER.FOM="fom",URL_PARAMETER.NATIVE_LOGIN_PAGE="lp",URL_PARAMETER.LOGIN_TYPE="lt",URL_PARAMETER.CHANNEL="otpless_channel",URL_PARAMETER.CROSS_BUTTON_HIDDEN="crossButtonHidden",URL_PARAMETER.LOADER_COLOR="loaderColor",URL_PARAMETER.CROSS_BUTTON_COLOR="closeButtonColor",URL_PARAMETER.LOADING_TEXT="loadingText",URL_PARAMETER.LOADING_TEXT_COLOR="textColor",URL_PARAMETER.QR_TOKEN="qrToken",URL_PARAMETER.IS_HEADLESS="isHeadless",URL_PARAMETER.IS_HEADLESS_ONETAP="plov",URL_PARAMETER.ASID="asId",URL_PARAMETER.UID="uid",URL_PARAMETER.UIID="uiId",URL_PARAMETER.IS_SILENT_AUTH_SUPPORTED="isSilentAuthSupported",URL_PARAMETER.MODE="mode",URL_PARAMETER.ORDER_ID="orderId",URL_PARAMETER.IS_HEADLESS_QR="isHeadlessQR",URL_PARAMETER.MUS_ID="userId",URL_PARAMETER.VERSION="v",URL_PARAMETER.SSO_TOKEN="ssoToken",URL_PARAMETER.SSO_CHANNEL="ssoChannel",URL_PARAMETER.CACHE_SUPPORTED="urlCacheSupported",URL_PARAMETER.CACHE_EPOCH="urlCacheEpoch",URL_PARAMETER.PAUID="pauId",URL_PARAMETER.TS_ID="tsId",URL_PARAMETER.IN_ID="inId"}(Constants_URL_PARAMETER||(Constants_URL_PARAMETER={})),function(SDK_PLATFORM){SDK_PLATFORM.WORDPRESS="WORDPRESS",SDK_PLATFORM.JS="JS",SDK_PLATFORM.LINK="LINK",SDK_PLATFORM.ANDROID="ANDROID",SDK_PLATFORM.IOS="IOS",SDK_PLATFORM.SHOPIFY="SHOPIFY",SDK_PLATFORM.MAGENTO="MAGENTO",SDK_PLATFORM.AUTHLINK="AUTHLINK",SDK_PLATFORM.WEBFLOW="WEBFLOW",SDK_PLATFORM.FLUTTER_WEB="FLUTTER_WEB",SDK_PLATFORM.HEADLESS="HEADLESS"}(Constants_SDK_PLATFORM||(Constants_SDK_PLATFORM={})),function(EVENT_NAMES){EVENT_NAMES.TIMEOUT="TIMEOUT",EVENT_NAMES.TRY_AGAIN="TRY_AGAIN",EVENT_NAMES.IFRAME_FAILED="IFRAME_FAILED",EVENT_NAMES.ONETAP_CREATED="ONETAP_CREATED",EVENT_NAMES.INTENT_CREATED="INTENT_CREATED",EVENT_NAMES.CLIENT_REDIRECTION="CLIENT_REDIRECTION",EVENT_NAMES.INITIALIZED="INITIALIZED",EVENT_NAMES.HEADLESS_READY="HEADLESS_READY",EVENT_NAMES.HEADLESS_FAILED="HEADLESS_FAILED",EVENT_NAMES.HEADLESS_REQUEST_NATIVE="HEADLESS_REQUEST_NATIVE",EVENT_NAMES.HEADLESS_REQUEST_WEB="HEADLESS_REQUEST_WEB",EVENT_NAMES.HEADLESS_REQUEST_FALLBACK="HEADLESS_REQUEST_FALLBACK",EVENT_NAMES.HEADLESS_REQUEST="HEADLESS_REQUEST",EVENT_NAMES.API_CALL_INITIATED="API_CALL_INITIATED",EVENT_NAMES.API_CALL_PERFORMANCE="API_CALL_PERFORMANCE",EVENT_NAMES.POLLING_STARTED="POLLING_STARTED",EVENT_NAMES.POLLING_ACTION="POLLING_ACTION",EVENT_NAMES.POLLING_ENDED="POLLING_ENDED",EVENT_NAMES.UNCAUGHT_ERROR="UNCAUGHT_ERROR",EVENT_NAMES.UNHANDLED_PROMISE="UNHANDLED_PROMISE",EVENT_NAMES.NATIVE_SNA_CALLBACK="NATIVE_SNA_CALLBACK",EVENT_NAMES.OTP_AUTO_READ_SUCCESS="OTP_AUTO_READ_SUCCESS",EVENT_NAMES.OTP_AUTO_READ_FAILED="OTP_AUTO_READ_FAILED",EVENT_NAMES.WATCH_OTP_VERIFY="WATCH_OTP_VERIFY",EVENT_NAMES.OTP_AUTO_VERIFY="OTP_AUTO_VERIFY",EVENT_NAMES.HEADLESS_REQUEST_ACK="HEADLESS_REQUEST_ACK",EVENT_NAMES.SESSION_END="SESSION_END",EVENT_NAMES.INVALID_ERROR_CODE="INVALID_ERROR_CODE",EVENT_NAMES.CLIENT_HEADLESS_REQUEST="CLIENT_HEADLESS_REQUEST",EVENT_NAMES.CLIENT_HEADLESS_RESPONSE="CLIENT_HEADLESS_RESPONSE",EVENT_NAMES.CLIENT_HEADLESS_READY_REQUEST="CLIENT_HEADLESS_READY_REQUEST",EVENT_NAMES.CLIENT_HEADLESS_PROCESS="CLIENT_HEADLESS_PROCESS",EVENT_NAMES.CLIENT_HEADLESS_INIT="CLIENT_HEADLESS_INIT",EVENT_NAMES.CLIENT_HEADLESS_IFRAME_GENERATE="CLIENT_HEADLESS_IFRAME_GENERATE",EVENT_NAMES.CLIENT_HEADLESS_IFRAME_APPEND="CLIENT_HEADLESS_IFRAME_APPEND",EVENT_NAMES.CLIENT_HEADLESS_STATE_SUCCESS="CLIENT_HEADLESS_STATE_SUCCESS",EVENT_NAMES.CLIENT_HEADLESS_STATE_FAILED="CLIENT_HEADLESS_STATE_FAILED",EVENT_NAMES.CLIENT_HEADLESS_CONFIG_SUCCESS="CLIENT_HEADLESS_CONFIG_SUCCESS",EVENT_NAMES.CLIENT_HEADLESS_CONFIG_FAILED="CLIENT_HEADLESS_CONFIG_FAILED",EVENT_NAMES.CLIENT_HEADLESS_READY="CLIENT_HEADLESS_READY"}(Constants_EVENT_NAMES||(Constants_EVENT_NAMES={})),function(SCRIPT_ATTRIBUTES_MAP){SCRIPT_ATTRIBUTES_MAP.IS_MANDATORY="ismandatory",SCRIPT_ATTRIBUTES_MAP.SID="sid",SCRIPT_ATTRIBUTES_MAP.CID="cid",SCRIPT_ATTRIBUTES_MAP.APP_ID="data-appid",SCRIPT_ATTRIBUTES_MAP.SRC="src",SCRIPT_ATTRIBUTES_MAP.USER_SIGNED_IN="usersignedin"}(Constants_SCRIPT_ATTRIBUTES_MAP||(Constants_SCRIPT_ATTRIBUTES_MAP={})),function(DIV_ATTRIBUTES_MAP){DIV_ATTRIBUTES_MAP.TYPE="data-type",DIV_ATTRIBUTES_MAP.BACKGROUND="data-background"}(Constants_DIV_ATTRIBUTES_MAP||(Constants_DIV_ATTRIBUTES_MAP={}));var INTENT_TYPE;!function(INTENT_TYPE){INTENT_TYPE.QR="QR",INTENT_TYPE.MOBILE="MOBILE"}(INTENT_TYPE||(INTENT_TYPE={}));const Constants_IS_DESKTOP=window.screen.width>768,ENV_MAP_com=(window.location.href,"https://otpless.com"),Constants_ENV=(()=>{try{return ENV_MAP_com||"https://otpless.com"}catch(error){return"https://otpless.com"}})(),Constants_isOTPlessApp=navigator.userAgent.includes(" otplessapp"),Constants_isOTPlessSDK=navigator.userAgent.includes(" otplesssdk"),getSdkAsset=path=>`https://otpless.com/sdk-assets/${path}`;path="whatsapp_with_count.svg",getSdkAsset("viber.png"),getSdkAsset("voice-verification.svg"),getSdkAsset("sms-notification.png"),getSdkAsset("email_with_count.svg");var path;const OTPLESS_GENERAL_FLOATER=`${Constants_IS_DESKTOP?"top: 70px; right: 30px; width: 385px;":"left: 0; bottom: 0; right: 0; width: 100%;"}\n  position: fixed;\n  box-shadow: 0 1px 2px 0 rgba(65,69,73,.3), 0 3px 6px 2px rgba(65,69,73,.15);\n  background: #FFF;\n  transition: all 0.5s ease-in-out;\n  font-size: 14px;\n  z-index: 99999999999999999999999;\n`,commonAuth_COMMON_AUTH_ELEMENTS_ID_OTPLESS_SECURE_JS="otpless-secure-sdk",commonAuth_COMMON_AUTH_ELEMENTS_ID_OTPLESS_LOGIN_PAGE_POPUP={PARENT:"otpless-login-page-parent",CHILD:"login-page-popup"},commonAuth_COMMON_AUTH_ELEMENTS_STYLES={OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER:{PARENT:"display: flex; justify-content: space-around; align-items: center; flex-direction: column; height: 100%; width: 100%; padding: 10% 0; box-sizing: border-box;",IMG:"width: 40%",TEXT:{HEADER:"font: 500 1.75rem Google Sans, Roboto, Helvetica, Arial, sans-serif; margin: 0; text-align: center;",TITLE:"font: 300 0.875rem Google Sans, Roboto, Helvetica, Arial, sans-serif; margin: 0; margin-top: 10px; text-align: center; width: 80%; margin:30px auto 0"},ACTION_BUTTON:"border-radius: 6px; background: #3062d4; box-shadow: 0px 1px 2px 0px rgba(27, 36, 44, 0.12); padding: 16px; color: #FFF; font: 500 1.125rem Google Sans, Roboto, Helvetica, Arial, sans-serif; width: 60%; text-align: center; cursor: pointer;"},OTPLESS_LOGIN_PAGE_IFRAME:`height: 100%; width: 100%; border: none; opacity: 0; border-radius: ${Constants_isOTPlessApp||Constants_isOTPlessSDK?0:12}px; margin-bottom: -6px; position: relative; z-index: 1;`,OTPLESS_FLOATER_IFRAME:"width: 100%; border: none; height: 100%; opacity: 0; border-radius: 12px; z-index: 1;",OTPLESS_LOGIN_PAGE:`${Constants_IS_DESKTOP?"border-radius: 12px; width: 390px; min-width: 390px; margin: 0 auto;":"width: 100%; border-radius: 12px;"}\n  transition: all 0.5s ease-in-out;\n  background: #FFF;\n  font-size: 14px;\n  position: relative;`,OTPLESS_FLOATER:{EXPANDED:`${OTPLESS_GENERAL_FLOATER} height: 270px; border-radius: 12px;`,COLLAPSED:`${OTPLESS_GENERAL_FLOATER} display: none`,HIDDEN:`${OTPLESS_GENERAL_FLOATER} opacity: 0; pointer-events: none;`},OTPLESS_COLLAPSED_FLOATER_GIF:"position: absolute; top: -30px; left: 50%; transform: translate(-50%, 0); width: 40px;",OTPLESS_WHATSAPP_LOGIN_IMG:"width: 100%; height: 100%;",OTPLESS_BUTTON_MASK:"width: 100vw; height: 100vh; position: fixed; inset: 0px; \n  background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(2px); display: block; z-index: 99999;",OTPLESS_ANNOUNCEMENT_BAR:"height: 60px; width: 100%; position: sticky; background: rgb(255, 255, 255); \n  z-index: 999999999; transition: all 0.5s ease-in-out 0s; top: 0px;",OTPLESS_WORPRESS_FORM:"display: none;",OTPLESS_WORPRESS_FULL_SCREEN_LOADER:{PARENT:"position: absolute; inset: 0; display: flex; justify-content: center; align-items: center; height: 100%; width: 100%; z-index: 99999; flex-direction: column;",SPAN:"border: 4px solid #f3f3f3; border-radius: 50%; height: 100%; \n    width: 100%; max-height: 40px; max-width: 40px; animation: otpless-spinner 0.8s linear infinite;",TEXT:"font: 300 1rem Google Sans, Roboto, Helvetica, Arial, sans-serif; margin: 0; margin-top: 15px; text-align: center;"},OTPLESS_HIDDEN_FLOATER_CLOSE_IMG:"position: fixed; top: 30px; right: 30px; font-size: 30px;",OTPLESS_NATIVE_SDK_LOGIN_PAGE_DIV:"height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center;",OTPLESS_LOGIN_PAGE_POPUP:{PARENT:"position: fixed; height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center; inset: 0;",CURTAIN:(background,isDesktop)=>`position: fixed; top: 0; bottom: 0; right: 0; background: ${background||"#FFF"}; width: ${isDesktop?"max(550px, 40%)":"100%"}; display: flex; justify-content: center; align-items: center;`}},globalFunctions_GLOBAL_FUNCTIONS_CLIENT_LOGIN=(commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.PARENT,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.IMG,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.TEXT.HEADER,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.TEXT.TITLE,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.ACTION_BUTTON,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_TIMEOUT_CONTAINER.IMG,commonAuth_COMMON_AUTH_ELEMENTS_ID_OTPLESS_LOGIN_PAGE_POPUP.PARENT,commonAuth_COMMON_AUTH_ELEMENTS_STYLES.OTPLESS_LOGIN_PAGE_POPUP.PARENT,commonAuth_COMMON_AUTH_ELEMENTS_ID_OTPLESS_LOGIN_PAGE_POPUP.CHILD,(()=>{let version=queryParamsActions_getQueryParam("v")||"3";const script=document.getElementById("otpless-sdk");script?version=script.src.split("/v")[1].split("/")[0]:(navigator.userAgent.includes(" otplesssdk")||inIframe_isAuth()&&!function(){try{return window.self!==window.parent}catch(error){return!0}}())&&(version=window.location.href.split("rc")[1].charAt(0))})(),"isClientUserLogin"),globalFunctions_GLOBAL_FUNCTIONS_NATIVE={GOOGLE_PHONE_NUMBER_CALLBACK:"googlePopupCallback",OTP_CALLBACK:"nativeOtpCallback",OTP_AUTOREAD:{FN:"NATIVE_OTP_AUTO_READ",SUCCESS:"onOtpReadSuccess",ERROR:"onOtpReadError"},HARD_BACK:"onHardBackPressed",CELLULAR_CALLBACK:"onCellularNetworkResult",JAVASCRIPT_OBJ:"javascript_obj",ANDROID_OBJ:"androidObj",APP_INFO:"getAppInfo",APP_INFO_RESULT:"onAppInfoResult",PHONE_NUMBER:{SUCCESS:"onPhoneNumberSelectionSuccess",ERROR:"onPhoneNumberSelectionError"},WEBAUTHN:{REGISTRATION:{SUCCESS:"onWebAuthnRegistrationSuccess",ERROR:"onWebAuthnRegistrationError"},SIGN_IN:{SUCCESS:"onWebAuthnSigninSuccess",ERROR:"onWebAuthnSigninError"}},SSO:{RESPONSE:"ssoSdkResponse"}},getV2LoginPagePath=path=>path.replace("/v1","/v2/lp"),getV3LoginPagePath=path=>path.replace("/v1","/v3/lp");getV3LoginPagePath("/v1/user/transaction/intent"),getV2LoginPagePath("/v1/user/transaction/silent-auth-verify"),getV2LoginPagePath("/v1/user/transaction/silent-auth-pre-check"),getV3LoginPagePath("/v1/user/transaction/silent-auth-status"),getV3LoginPagePath("/v1/user/transaction/status"),getV3LoginPagePath("/v1/user/transaction/otp"),getV2LoginPagePath("/v1/user/transaction/complete"),getV2LoginPagePath("/v1/merchant/config"),(path=>{path.replace("/v1","/v1/lp")})("/v1/merchant/support/ticket"),getV3LoginPagePath("/v1/user/transaction/code"),getV3LoginPagePath("/v1/user/transaction/verify-secure-sdk"),window.location.href,window.location.href;const reflectoMagic_reflectoMagic=({map=window,key,value},remove)=>remove?Reflect.deleteProperty(map,key):value?Reflect.set(map,key,value):Reflect.get(map,key),NativeBridgeHelper_NativeCall=params=>{reflectoMagic_reflectoMagic({key:globalFunctions_GLOBAL_FUNCTIONS_NATIVE.ANDROID_OBJ}).webNativeAssist(JSON.stringify(params))};class constants_OTPlessConstants{static get OTPlessCallbackAction(){return this._OTPlessCallbackAction}static set OTPlessCallbackAction(value){this._OTPlessCallbackAction=value}static get OTPlessButtonExist(){return this._OTPlessButtonExist}static set OTPlessButtonExist(value){this._OTPlessButtonExist=value}static get OTPlessLoginPageExist(){return this._OTPlessLoginPageExist}static set OTPlessLoginPageExist(value){this._OTPlessLoginPageExist=value}static get OTPlessHeadlessSdkState(){return this._OTPlessHeadlessSdkState}static set OTPlessHeadlessSdkState(value){this._OTPlessHeadlessSdkState=value}static get OTPlessSdkPlatform(){return this._OTPlessSdkPlatform}static set OTPlessSdkPlatform(value){this._OTPlessSdkPlatform=value}static get OTPlessIsAnf(){return this._OTPlessIsAnf}static set OTPlessIsAnf(value){this._OTPlessIsAnf=value}static get hasOTPlessCurtainLoginPage(){return this._hasOTPlessCurtainLoginPage}static set hasOTPlessCurtainLoginPage(value){this._hasOTPlessCurtainLoginPage=value}static get FINAL_COLLPASED_QUERY_PARAM(){return this._FINAL_COLLPASED_QUERY_PARAM}static set FINAL_COLLPASED_QUERY_PARAM(value){this._FINAL_COLLPASED_QUERY_PARAM=value}static get isClientUserLogin(){return this._isClientUserLogin}}constants_OTPlessConstants._OTPlessCallbackAction=()=>{},constants_OTPlessConstants._OTPlessButtonExist=!1,constants_OTPlessConstants._OTPlessLoginPageExist=!1,constants_OTPlessConstants._OTPlessSdkPlatform="",constants_OTPlessConstants._OTPlessHeadlessSdkState="",constants_OTPlessConstants._OTPlessIsAnf=!1,constants_OTPlessConstants._hasOTPlessCurtainLoginPage=!1,constants_OTPlessConstants._FINAL_COLLPASED_QUERY_PARAM=Constants_URL_PARAMETER.COLLAPSED,constants_OTPlessConstants._isClientUserLogin=reflectoMagic_reflectoMagic({key:globalFunctions_GLOBAL_FUNCTIONS_CLIENT_LOGIN});let internalRouteWindow=null;const OTPlessAncestorReceiver=e=>{var _a;const{data}=e,{event=""}=data,GET_ANCESTOR_LOCATION=()=>{e.source&&e.source.postMessage({event:Constants_IFRAME_COMMUNICATION_ANCESTOR_LOCATION,location:JSON.stringify(window.location)},{targetOrigin:e.origin})},eventMaps={GET_ANCESTOR_LOCATION,REMOVE_ANCESTOR_PARAMS:()=>{queryParamsActions_removeQueryParams(data.parameters)},NATIVE_OTP_AUTO_READ:async()=>{const otp=await(otpread=!0,new Promise((async resolve=>{if(getDeviceInfo_isIOS())return resolve({error:"NOT_SUPPORTED"});if(Constants_isOTPlessApp||Constants_isOTPlessSDK){const fallback=error=>{NativeBridgeHelper_NativeCall({key:16,otpread:!1}),resolve({error})};reflectoMagic_reflectoMagic({key:globalFunctions_GLOBAL_FUNCTIONS_NATIVE.OTP_AUTOREAD.SUCCESS,value:otp=>{resolve({otp})}}),reflectoMagic_reflectoMagic({key:globalFunctions_GLOBAL_FUNCTIONS_NATIVE.OTP_AUTOREAD.ERROR,value:fallback}),NativeBridgeHelper_NativeCall({key:16,otpread}),NativeBridgeHelper_NativeCall({key:45,type:"zerotap"})}else{if(!otpread||!("OTPCredential"in window))return resolve({error:"OTPCredential not supported"});try{const abortController=new AbortController,content=await navigator.credentials.get({otp:{transport:["sms"]},signal:abortController.signal});if(content&&"code"in content){const otp=(null==content?void 0:content.code)||"";resolve({otp})}}catch(error){const errorName="AbortError"===(null==error?void 0:error.name)?"OTP retrieval was cancelled.":`An error occurred while retrieving the OTP: ${error}`;console.error(errorName),resolve({error:errorName})}}})));var otpread;e.source&&e.source.postMessage({event:Constants_IFRAME_COMMUNICATION_ANCESTOR_OTP_AUTO_READ,otp},{targetOrigin:e.origin})},EXTERNAL_URL:()=>{let{url="",internalRoute=!1}=data;try{url=url.replace("test.html","sna-test.html"),internalRouteWindow=window.open(url,internalRoute?"_blank":"_self"),reflectoMagic_reflectoMagic({key:"internalRouteWindow",value:internalRouteWindow})}catch(error){}},OTPLESS_KI:()=>{null==internalRouteWindow||internalRouteWindow.close()},FETCH_API_FROM_PARENT:async()=>{const response=await fetch(data.url,data.options),responseText=await response.text();e.source&&e.source.postMessage({event:Constants_IFRAME_COMMUNICATION_ANCESTOR_API_RESPONSE,response:{body:responseText,init:{status:response.status,statusText:response.statusText,headers:Object.fromEntries(response.headers.entries())}}},{targetOrigin:e.origin})},GET_LOGIN_URI:GET_ANCESTOR_LOCATION};null===(_a=eventMaps[event])||void 0===_a||_a.call(eventMaps)};window.addEventListener("message",OTPlessAncestorReceiver,!1)})();